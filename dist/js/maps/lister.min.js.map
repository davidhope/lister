{"version":3,"sources":["client.js","app.js","ListingControllers.js","ListingService.js","animations.js","directives.js","filters.js"],"names":["$","window","bind","topOffset","width","this","innerWidth","screen","addClass","removeClass","height","innerHeight","css","url","location","element","filter","href","indexOf","parent","is","listingApp","angular","module","config","$routeProvider","when","templateUrl","controller","otherwise","redirectTo","listingControllers","homeControllers","$scope","$log","$routeParams","ListingService","StatusTypeService","listings","query","orderProp","statusFilter","statusTypes","getByStatus","log","listing","get","id","listingId","currentPrice","listingprice","reduce","prev","current","listingPriceId","currentStatus","listingstatus","listingStatusId","save","$save","$delete","setImage","imageUrl","mainImageUrl","increasePrice","price","_price","parseInt","decreasePrice","listingServices","statusTypeServices","factory","$resource","GetByStatus","method","isArray","listingAnimations","animation","animateUp","className","done","position","top","left","display","jQuery","animate","cancel","stop","animateDown","input"],"mappings":"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","file":"lister.min.js","sourcesContent":["\r\n\r\n//Loads the correct sidebar on window load,\r\n//collapses the sidebar on window resize.\r\n// Sets the min-height of #page-wrapper to window size\r\n$(function() {\r\n    /* this will only need to be called when charts are on the loaded*/\r\n    $(window).bind(\"load resize\", function() {\r\n        topOffset = 50;\r\n        width = (this.window.innerWidth > 0) ? this.window.innerWidth : this.screen.width;\r\n        if (width < 768) {\r\n            $('div.navbar-collapse').addClass('collapse');\r\n            topOffset = 100; // 2-row-menu\r\n        } else {\r\n            $('div.navbar-collapse').removeClass('collapse');\r\n        }\r\n\r\n        height = ((this.window.innerHeight > 0) ? this.window.innerHeight : this.screen.height) - 1;\r\n        height = height - topOffset;\r\n        if (height < 1) height = 1;\r\n        if (height > topOffset) {\r\n            $(\"#page-wrapper\").css(\"min-height\", (height) + \"px\");\r\n        }\r\n    });\r\n\r\n    var url = window.location;\r\n    var element = $('ul.nav a').filter(function() {\r\n        return this.href == url || url.href.indexOf(this.href) == 0;\r\n    }).addClass('active').parent().parent().addClass('in').parent();\r\n    if (element.is('li')) {\r\n        element.addClass('active');\r\n    }\r\n});\r\n","(function () {\r\n  'use strict';\r\n\r\n  /* App Module */\r\n  var listingApp = angular.module('listingApp', [\r\n    'ngRoute',\r\n    'homeControllers',\r\n    'listingAnimations',\r\n    'listingControllers',\r\n    'listingFilters',\r\n    'listingServices',\r\n    'statusTypeServices'\r\n  ]);\r\n\r\n  listingApp.config(['$routeProvider',\r\n    function($routeProvider) {\r\n      $routeProvider.\r\n        when('/', {\r\n          templateUrl: 'partials/index.html',\r\n          controller: 'HomeCtrl'\r\n        }).\r\n        when('/listings', {\r\n          templateUrl: 'partials/listings.html',\r\n          controller: 'ListingCtrl'\r\n        }).\r\n        // :mls comes from url and sends to the ListingDetailCtrl in $routeParams\r\n        when('/listings/:listingId', {\r\n          templateUrl: 'partials/listing-detail.html',\r\n          controller: 'ListingDetailCtrl'\r\n        }).\r\n        otherwise({\r\n          redirectTo: '/'\r\n        });\r\n  }]);\r\n})();\r\n","(function () {\r\n  'use strict';\r\n\r\n  /* Controllers */\r\n\r\n  var listingControllers = angular.module('listingControllers', []);\r\n  var homeControllers = angular.module('homeControllers', []);\r\n\r\n  homeControllers.controller('HomeCtrl', ['$scope',\r\n    function($scope) {}\r\n  ]);\r\n\r\n  listingControllers.controller('ListingCtrl', ['$scope', '$log', '$routeParams', 'ListingService','StatusTypeService',\r\n    function($scope, $log, $routeParams, ListingService, StatusTypeService) {\r\n\r\n      $scope.listings = ListingService.query();\r\n      $scope.orderProp = 'address';\r\n      $scope.statusFilter = '';\r\n      $scope.statusTypes = StatusTypeService.query();\r\n\r\n      $scope.getByStatus = function(){\r\n        $log.log($scope.statusFilter);\r\n        //$scope.listings = ListingService.GetByStatus({status:$scope.statusFilter});\r\n      }\r\n  }]);\r\n\r\n  listingControllers.controller('ListingDetailCtrl', ['$scope', '$log', '$routeParams', 'ListingService','StatusTypeService',\r\n    function($scope, $log, $routeParams, ListingService, StatusTypeService) {\r\n\r\n      $scope.statusTypes = StatusTypeService.query();\r\n\r\n      //$routeParams.mls comes from app.js route for ListingDetailCtrl\r\n      $scope.listing = ListingService.get({id: $routeParams.listingId}, function(listing) {\r\n        //$scope.mainImageUrl = listing.images[0];\r\n        //$scope.currentPrice = Math.max.apply(Math,$scope.listing.listingprice.map(function(lp){return lp;}));\r\n        $scope.currentPrice = $scope.listing.listingprice.reduce(function(prev, current) {\r\n                                  return (prev.listingPriceId > current.listingPriceId) ? prev : current\r\n                              })\r\n\r\n        $scope.currentStatus = $scope.listing.listingstatus.reduce(function(prev, current) {\r\n                                  return (prev.listingStatusId > current.listingStatusId) ? prev : current\r\n                              })\r\n\r\n        $log.log($scope.currentPrice);\r\n      });\r\n\r\n\r\n\r\n      $scope.save = function(listing){\r\n        $log.log(listing);\r\n        $scope.listing.$save();\r\n      };\r\n\r\n      $scope.delete = function(listing){\r\n        $log.log(listing);\r\n        $scope.listing.$delete();\r\n      };\r\n\r\n      $scope.setImage = function(imageUrl) {\r\n        $scope.mainImageUrl = imageUrl;\r\n      };\r\n\r\n      $scope.increasePrice = function() {\r\n        $log.log($scope.listing.price);\r\n        var _price = parseInt($scope.listing.price);\r\n        _price += 100.00;\r\n        $scope.listing.price = _price;\r\n      };\r\n\r\n      $scope.decreasePrice = function() {\r\n        $log.log($scope.listing.price);\r\n        var _price = parseInt($scope.listing.price);\r\n        _price -= 100.00;\r\n        $scope.listing.price = _price;\r\n      };\r\n\r\n    }]);\r\n})();\r\n","(function () {\r\n  'use strict';\r\n\r\n  /* Services */\r\n\r\n  var listingServices = angular.module('listingServices', ['ngResource']);\r\n  var statusTypeServices = angular.module('statusTypeServices', ['ngResource']);\r\n\r\n  listingServices.factory('ListingService', ['$resource',\r\n\r\n    function($resource){\r\n\r\n      //return $resource('listings/services/listing/:id');\r\n\r\n      return $resource('services/listing/:id',null,{\r\n          'GetByStatus': {method: 'GET',isArray: true}\r\n      });\r\n\r\n    }\r\n  ]);\r\n\r\n  statusTypeServices.factory('StatusTypeService', ['$resource',\r\n    function($resource){\r\n      return $resource('services/statustype/:id',null,{});\r\n    }\r\n  ]);\r\n})();\r\n","(function () {\r\n  var listingAnimations = angular.module('listingAnimations', ['ngAnimate']);\r\n\r\n  listingAnimations.animation('.listing', function() {\r\n\r\n    var animateUp = function(element, className, done) {\r\n      if(className != 'active') {\r\n        return;\r\n      }\r\n      element.css({\r\n        position: 'absolute',\r\n        top: 500,\r\n        left: 0,\r\n        display: 'block'\r\n      });\r\n\r\n      jQuery(element).animate({\r\n        top: 0\r\n      }, done);\r\n\r\n      return function(cancel) {\r\n        if(cancel) {\r\n          element.stop();\r\n        }\r\n      };\r\n    }\r\n\r\n    var animateDown = function(element, className, done) {\r\n      if(className != 'active') {\r\n        return;\r\n      }\r\n      element.css({\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0\r\n      });\r\n\r\n      jQuery(element).animate({\r\n        top: -500\r\n      }, done);\r\n\r\n      return function(cancel) {\r\n        if(cancel) {\r\n          element.stop();\r\n        }\r\n      };\r\n    }\r\n\r\n    return {\r\n      addClass: animateUp,\r\n      removeClass: animateDown\r\n    };\r\n  });\r\n})();\r\n","(function () {\r\n  'use strict';\r\n\r\n  /* Directives */\r\n\r\n})();\r\n","(function () {\r\n  'use strict';\r\n\r\n  /* Filters */\r\n  angular.module('listingFilters', []).filter('checkmark', function() {\r\n    return function(input) {\r\n      return input ? '\\u2713' : '\\u2718';\r\n    };\r\n  });\r\n})();\r\n"],"sourceRoot":"/source/"}